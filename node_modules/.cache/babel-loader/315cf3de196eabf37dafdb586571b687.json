{"ast":null,"code":"var _jsxFileName = \"/Users/mathubabocra.org.bw/Downloads/MedliveryMasterUpdated-main/src/Components/loginForm.js\";\nimport React, { Component } from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport { connect } from 'react-redux';\nimport { Form, Col, Button, Container, Alert } from 'react-bootstrap';\nimport validator from 'validator';\nimport { loginActionCreator } from '../actions/login/loginActionCreator'; //const validator = require('validator');\n\nclass LoginForm extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.renderHelper = ({\n      input,\n      type,\n      label,\n      controlId,\n      placeholder,\n      required,\n      accept,\n      meta,\n      error\n    }) => {\n      console.log('meta ', meta);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \" container col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(Form.Group, {\n        controlId: controlId,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }\n      }, label), /*#__PURE__*/React.createElement(Form.Control, Object.assign({\n        required: true\n      }, input, {\n        type: type,\n        placeholder: placeholder,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }\n      })), this.renderError(meta)));\n    };\n  }\n\n  onSubmit(values) {\n    values.token = localStorage.getItem('token');\n    console.log('values ', values);\n    this.props.loginActionCreator(values, () => {\n      this.props.history.push('/selectGroup');\n    });\n  }\n\n  renderError({\n    error,\n    touched\n  }) {\n    if (error && touched) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Alert, {\n        variant: \"danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 17\n        }\n      }, error));\n    }\n  }\n\n  render() {\n    const {\n      handleSubmit\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"home-inner-signUp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mt-5  col-md-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(Form, {\n      className: \"bg-secondary \",\n      onSubmit: handleSubmit(this.onSubmit.bind(this)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"container text-center text-dark display-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 10\n      }\n    }, \"Login \")), /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Field, {\n      name: \"email\",\n      type: \"email\",\n      label: \"Email/Phone Number\",\n      controlId: \"formGridEmail\",\n      placeholder: \"Email or Phone Number\",\n      component: this.renderHelper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Field, {\n      name: \"password\",\n      type: \"password\",\n      controlId: \"formGridPassword\",\n      label: \"Enter Password\",\n      placeholder: \"Enter Password\",\n      component: this.renderHelper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Alert, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 22\n      }\n    }, this.props.errorMessage)), /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"container col-md-4\",\n      type: \"submit\",\n      variant: \"success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 1\n      }\n    }, \" Login \")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 1\n      }\n    })))))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    errorMessage: state.authReducer.errorMessage\n  };\n}\n\nconst validate = values => {\n  const error = {}; // const validEmail = validator.isEmail(values.email);\n  //console.log('hkahlajhdhfiufa valid',validEmail)\n\n  if (!values.email) {\n    error.email = \"Field is Required\";\n  } else if (values.email) {\n    const validEmail = validator.isEmail(values.email);\n\n    if (!validEmail) {\n      error.email = \"Invalid Email\";\n    }\n  }\n\n  if (!values.password) {\n    error.password = \"Please Enter password\";\n  }\n\n  return error;\n};\n\nexport default reduxForm({\n  form: 'LoginForm',\n  validate\n})(connect(mapStateToProps, {\n  loginActionCreator\n})(LoginForm));","map":{"version":3,"sources":["/Users/mathubabocra.org.bw/Downloads/MedliveryMasterUpdated-main/src/Components/loginForm.js"],"names":["React","Component","Field","reduxForm","connect","Form","Col","Button","Container","Alert","validator","loginActionCreator","LoginForm","renderHelper","input","type","label","controlId","placeholder","required","accept","meta","error","console","log","renderError","onSubmit","values","token","localStorage","getItem","props","history","push","touched","render","handleSubmit","bind","errorMessage","mapStateToProps","state","authReducer","validate","email","validEmail","isEmail","password","form"],"mappings":"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","sourcesContent":["import React,{Component} from 'react'\r\nimport {Field,reduxForm} from 'redux-form'\r\nimport {connect} from 'react-redux'\r\nimport {Form,Col,Button,Container,Alert} from 'react-bootstrap'\r\n\r\n import validator from 'validator'\r\n\r\nimport {loginActionCreator} from '../actions/login/loginActionCreator'\r\n//const validator = require('validator');\r\n\r\nclass LoginForm extends Component{\r\n\r\n\r\n\r\n\r\n\r\n\r\n    onSubmit(values){\r\n        values.token = localStorage.getItem('token');\r\n        console.log('values ', values)\r\n\r\n      this.props.loginActionCreator(values,()=>{\r\n\r\n          this.props.history.push('/selectGroup');\r\n      })\r\n\r\n    }  \r\n\r\nrenderError({error,touched}){\r\n\r\n    if(error && touched){\r\n        return (\r\n            <div className=\"\" >\r\n                <Alert variant=\"danger\">{error}</Alert>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n    renderHelper = ({input,type,label,controlId,placeholder,required,accept,meta,error}) => {\r\n   \r\n        console.log('meta ',meta)\r\n         \r\n\r\n        return(\r\n    \r\n       \r\n    \r\n    <div className=' container col-md-4'>\r\n            <Form.Group  controlId={controlId}>\r\n            <Form.Label>{label}</Form.Label>\r\n            <Form.Control \r\n           required\r\n           {...input}\r\n            type={type}\r\n             placeholder={placeholder}  />\r\n             {this.renderError(meta)}\r\n          </Form.Group>\r\n          \r\n          \r\n   \r\n          </div>\r\n            \r\n        )\r\n    \r\n    }\r\n    \r\n\r\n\r\n    render(){\r\n\r\n        const {handleSubmit} = this.props;\r\n\r\n        return(\r\n\r\n            <div>\r\n\r\n            <div className=''>\r\n                <div className=''>\r\n                    <div className='home-inner-signUp'>\r\n         \r\n                    <br />\r\n                <br />\r\n                <br />\r\n                <br />\r\n            <div className='container mt-5  col-md-8'>\r\n  \r\n{/* handleSubmit(this.onFormSubmit.bind(this)) */}\r\n             {/* <form  > */}\r\n         \r\n\r\n     <br />\r\n     <br />\r\n      <Form className='bg-secondary ' onSubmit={handleSubmit(this.onSubmit.bind(this))}>\r\n    \r\n     <div className='row'>\r\n         <h3 className=\"container text-center text-dark display-4\">Login </h3>\r\n\r\n             </div>  \r\n              \r\n              <Form.Row>\r\n              <Field\r\n                 name=\"email\"\r\n                 type=\"email\"\r\n                 label=\"Email/Phone Number\"\r\n                 controlId=\"formGridEmail\"\r\n                 placeholder=\"Email or Phone Number\"\r\n                 component={this.renderHelper}\r\n                 />\r\n\r\n                </Form.Row>\r\n\r\n                <Form.Row>\r\n                <Field\r\n                 name=\"password\"\r\n                 type=\"password\"\r\n                 controlId=\"formGridPassword\"\r\n                 label=\"Enter Password\"\r\n                 placeholder=\"Enter Password\"\r\n                 component={this.renderHelper}\r\n                 />\r\n                </Form.Row>\r\n\r\n                <div><Alert >{this.props.errorMessage}</Alert></div>\r\n\r\n<Form.Row>\r\n<Button className='container col-md-4' type =\"submit\" variant=\"success\"> Login </Button> \r\n</Form.Row>\r\n<br />  \r\n</Form>\r\n           \r\n  \r\n            </div>\r\n            </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n  \r\nfunction mapStateToProps(state){\r\n    return{\r\n            errorMessage:state.authReducer.errorMessage\r\n    }\r\n}\r\n\r\n\r\nconst validate = (values) =>{\r\n\r\n    const error = {};\r\n\r\n// const validEmail = validator.isEmail(values.email);\r\n//console.log('hkahlajhdhfiufa valid',validEmail)\r\n\r\n    if(!values.email ){\r\n       error.email = \"Field is Required\"\r\n    }else if (values.email){\r\n    const validEmail = validator.isEmail(values.email);\r\n\r\n         if(!validEmail){\r\n             error.email =\"Invalid Email\"\r\n         }\r\n}   \r\n    \r\n   \r\n    if(!values.password){\r\n        error.password=\"Please Enter password\"\r\n    }\r\n\r\n    return error;\r\n\r\n}\r\n\r\nexport default reduxForm({\r\n\r\n    form:'LoginForm',\r\n    validate\r\n})(connect(mapStateToProps,{loginActionCreator})(LoginForm))"]},"metadata":{},"sourceType":"module"}