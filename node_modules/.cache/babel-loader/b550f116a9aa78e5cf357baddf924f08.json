{"ast":null,"code":"import _classCallCheck from\"/Users/mathubabocra.org.bw/Downloads/MedliveryMasterUpdated-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mathubabocra.org.bw/Downloads/MedliveryMasterUpdated-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/mathubabocra.org.bw/Downloads/MedliveryMasterUpdated-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mathubabocra.org.bw/Downloads/MedliveryMasterUpdated-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Field,reduxForm}from'redux-form';import{connect}from'react-redux';import{Form,Col,Button,Container,Alert}from'react-bootstrap';import validator from'validator';import{loginActionCreator}from'../actions/loginActionCreator';//const validator = require('validator');\nvar LoginForm=/*#__PURE__*/function(_Component){_inherits(LoginForm,_Component);var _super=_createSuper(LoginForm);function LoginForm(){var _this;_classCallCheck(this,LoginForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.renderHelper=function(_ref){var input=_ref.input,type=_ref.type,label=_ref.label,controlId=_ref.controlId,placeholder=_ref.placeholder,required=_ref.required,accept=_ref.accept,meta=_ref.meta,error=_ref.error;console.log('meta ',meta);return/*#__PURE__*/React.createElement(\"div\",{className:\" container col-md-4\"},/*#__PURE__*/React.createElement(Form.Group,{controlId:controlId},/*#__PURE__*/React.createElement(Form.Label,null,label),/*#__PURE__*/React.createElement(Form.Control,Object.assign({required:true},input,{type:type,placeholder:placeholder})),_this.renderError(meta)));};return _this;}_createClass(LoginForm,[{key:\"onSubmit\",value:function onSubmit(values){var _this2=this;values.token=localStorage.getItem('token');console.log('values ',values);this.props.loginActionCreator(values,function(){_this2.props.history.push('/selectGroup');});}},{key:\"renderError\",value:function renderError(_ref2){var error=_ref2.error,touched=_ref2.touched;if(error&&touched){return/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(Alert,{variant:\"danger\"},error));}}},{key:\"render\",value:function render(){var handleSubmit=this.props.handleSubmit;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"home-inner-signUp\"},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"container mt-5  col-md-8\"},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Form,{className:\"bg-secondary \",onSubmit:handleSubmit(this.onSubmit.bind(this))},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"container text-center text-dark display-4\"},\"Login \")),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Field,{name:\"email\",type:\"email\",label:\"Email/Phone Number\",controlId:\"formGridEmail\",placeholder:\"Email or Phone Number\",component:this.renderHelper})),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Field,{name:\"password\",type:\"password\",controlId:\"formGridPassword\",label:\"Enter Password\",placeholder:\"Enter Password\",component:this.renderHelper})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Alert,null,this.props.errorMessage)),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Button,{className:\"container col-md-4\",type:\"submit\",variant:\"success\"},\" Login \")),/*#__PURE__*/React.createElement(\"br\",null)))))));}}]);return LoginForm;}(Component);function mapStateToProps(state){return{errorMessage:state.authReducer.errorMessage};}var validate=function validate(values){var error={};// const validEmail = validator.isEmail(values.email);\n//console.log('hkahlajhdhfiufa valid',validEmail)\nif(!values.email){error.email=\"Field is Required\";}else if(values.email){var validEmail=validator.isEmail(values.email);if(!validEmail){error.email=\"Invalid Email\";}}if(!values.password){error.password=\"Please Enter password\";}return error;};export default reduxForm({form:'LoginForm',validate:validate})(connect(mapStateToProps,{loginActionCreator:loginActionCreator})(LoginForm));","map":{"version":3,"sources":["/Users/mathubabocra.org.bw/Downloads/MedliveryMasterUpdated-main/src/Components/loginForm.js"],"names":["React","Component","Field","reduxForm","connect","Form","Col","Button","Container","Alert","validator","loginActionCreator","LoginForm","renderHelper","input","type","label","controlId","placeholder","required","accept","meta","error","console","log","renderError","values","token","localStorage","getItem","props","history","push","touched","handleSubmit","onSubmit","bind","errorMessage","mapStateToProps","state","authReducer","validate","email","validEmail","isEmail","password","form"],"mappings":"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","sourcesContent":["import React,{Component} from 'react'\r\nimport {Field,reduxForm} from 'redux-form'\r\nimport {connect} from 'react-redux'\r\nimport {Form,Col,Button,Container,Alert} from 'react-bootstrap'\r\n\r\n import validator from 'validator'\r\n\r\nimport {loginActionCreator} from '../actions/loginActionCreator'\r\n//const validator = require('validator');\r\n\r\nclass LoginForm extends Component{\r\n\r\n\r\n\r\n\r\n\r\n\r\n    onSubmit(values){\r\n        values.token = localStorage.getItem('token');\r\n        console.log('values ', values)\r\n\r\n      this.props.loginActionCreator(values,()=>{\r\n\r\n          this.props.history.push('/selectGroup');\r\n      })\r\n\r\n    }  \r\n\r\nrenderError({error,touched}){\r\n\r\n    if(error && touched){\r\n        return (\r\n            <div className=\"\" >\r\n                <Alert variant=\"danger\">{error}</Alert>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n    renderHelper = ({input,type,label,controlId,placeholder,required,accept,meta,error}) => {\r\n   \r\n        console.log('meta ',meta)\r\n         \r\n\r\n        return(\r\n    \r\n       \r\n    \r\n    <div className=' container col-md-4'>\r\n            <Form.Group  controlId={controlId}>\r\n            <Form.Label>{label}</Form.Label>\r\n            <Form.Control \r\n           required\r\n           {...input}\r\n            type={type}\r\n             placeholder={placeholder}  />\r\n             {this.renderError(meta)}\r\n          </Form.Group>\r\n          \r\n          \r\n   \r\n          </div>\r\n   \r\n\r\n    \r\n  \r\n    \r\n\r\n  \r\n            \r\n        )\r\n    \r\n    }\r\n    \r\n\r\n\r\n    render(){\r\n\r\n        const {handleSubmit} = this.props;\r\n\r\n        return(\r\n\r\n            <div>\r\n\r\n            <div className=''>\r\n                <div className=''>\r\n                    <div className='home-inner-signUp'>\r\n         \r\n                    <br />\r\n                <br />\r\n                <br />\r\n                <br />\r\n            <div className='container mt-5  col-md-8'>\r\n  \r\n{/* handleSubmit(this.onFormSubmit.bind(this)) */}\r\n             {/* <form  > */}\r\n         \r\n\r\n     <br />\r\n     <br />\r\n      <Form className='bg-secondary ' onSubmit={handleSubmit(this.onSubmit.bind(this))}>\r\n    \r\n     <div className='row'>\r\n         <h3 className=\"container text-center text-dark display-4\">Login </h3>\r\n\r\n             </div>  \r\n              \r\n              <Form.Row>\r\n              <Field\r\n                 name=\"email\"\r\n                 type=\"email\"\r\n                 label=\"Email/Phone Number\"\r\n                 controlId=\"formGridEmail\"\r\n                 placeholder=\"Email or Phone Number\"\r\n                 component={this.renderHelper}\r\n                 />\r\n\r\n                </Form.Row>\r\n\r\n                <Form.Row>\r\n                <Field\r\n                 name=\"password\"\r\n                 type=\"password\"\r\n                 controlId=\"formGridPassword\"\r\n                 label=\"Enter Password\"\r\n                 placeholder=\"Enter Password\"\r\n                 component={this.renderHelper}\r\n                 />\r\n                </Form.Row>\r\n\r\n                <div><Alert >{this.props.errorMessage}</Alert></div>\r\n\r\n<Form.Row>\r\n<Button className='container col-md-4' type =\"submit\" variant=\"success\"> Login </Button> \r\n</Form.Row>\r\n<br />  \r\n</Form>\r\n           \r\n  \r\n            </div>\r\n            </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n  \r\nfunction mapStateToProps(state){\r\n    return{\r\n            errorMessage:state.authReducer.errorMessage\r\n    }\r\n}\r\n\r\n\r\nconst validate = (values) =>{\r\n\r\n    const error = {};\r\n\r\n// const validEmail = validator.isEmail(values.email);\r\n//console.log('hkahlajhdhfiufa valid',validEmail)\r\n\r\n    if(!values.email ){\r\n       error.email = \"Field is Required\"\r\n    }else if (values.email){\r\n    const validEmail = validator.isEmail(values.email);\r\n\r\n         if(!validEmail){\r\n             error.email =\"Invalid Email\"\r\n         }\r\n}   \r\n    \r\n   \r\n    if(!values.password){\r\n        error.password=\"Please Enter password\"\r\n    }\r\n\r\n    return error;\r\n\r\n}\r\n\r\nexport default reduxForm({\r\n\r\n    form:'LoginForm',\r\n    validate\r\n})(connect(mapStateToProps,{loginActionCreator})(LoginForm))"]},"metadata":{},"sourceType":"module"}