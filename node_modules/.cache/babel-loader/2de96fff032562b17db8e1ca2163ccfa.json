{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mathubabocra.org.bw/Downloads/MedliveryMasterUpdated-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mathubabocra.org.bw/Downloads/MedliveryMasterUpdated-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{AuthSuccess,AuthError}from'./typeAuth';export function loginActionCreator(_x,_x2){return _loginActionCreator.apply(this,arguments);}function _loginActionCreator(){_loginActionCreator=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values,cb){var request;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;console.log('Values Submitted',values);_context.next=4;return axios.post('http://localhost:5000/user/login',values);case 4:request=_context.sent;console.log('token is',request.data.token);console.log('tokencc is',request.data);localStorage.setItem('token',request.data.token);cb();//     localStorage.setItem('token',request.data)\nreturn _context.abrupt(\"return\",{type:AuthSuccess,payload:request.data});case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",{type:AuthError,payload:'Unsuccessful Login'});case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return _loginActionCreator.apply(this,arguments);}","map":{"version":3,"sources":["/Users/mathubabocra.org.bw/Downloads/MedliveryMasterUpdated-main/src/actions/loginActionCreator.js"],"names":["axios","AuthSuccess","AuthError","loginActionCreator","values","cb","console","log","post","request","data","token","localStorage","setItem","type","payload"],"mappings":"2WAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,WAAR,CAAoBC,SAApB,KAAoC,YAApC,CAGA,eAAuBC,CAAAA,kBAAvB,2D,2GAAQ,iBAAkCC,MAAlC,CAAyCC,EAAzC,8IAKJC,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAAgCH,MAAhC,EALI,sBAOkBJ,CAAAA,KAAK,CAACQ,IAAN,CAAW,kCAAX,CAA8CJ,MAA9C,CAPlB,QAOEK,OAPF,eAQJH,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBE,OAAO,CAACC,IAAR,CAAaC,KAArC,EACAL,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BE,OAAO,CAACC,IAAlC,EAECE,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA6BJ,OAAO,CAACC,IAAR,CAAaC,KAA1C,EACDN,EAAE,GACN;AAbQ,gCAeC,CAEDS,IAAI,CAACb,WAFJ,CAGDc,OAAO,CAACN,OAAO,CAACC,IAHf,CAfD,4FA0BI,CACCI,IAAI,CAACZ,SADN,CAECa,OAAO,CAAE,oBAFV,CA1BJ,uE","sourcesContent":["import axios from 'axios'\r\nimport {AuthSuccess,AuthError} from './typeAuth'\r\n\r\n\r\nexport  async function loginActionCreator(values,cb){\r\n  \r\n     try{\r\n\r\n            \r\n    console.log('Values Submitted', values)\r\n    \r\n    const request = await axios.post('http://localhost:5000/user/login',values)\r\n    console.log('token is', request.data.token)\r\n    console.log('tokencc is', request.data)\r\n\r\n     localStorage.setItem('token',request.data.token)\r\n    cb();\r\n//     localStorage.setItem('token',request.data)\r\n\r\n   return{  \r\n\r\n        type:AuthSuccess,\r\n        payload:request.data\r\n   }\r\n   \r\n\r\n}catch(e){\r\n     \r\n\r\n\r\n      return{\r\n             type:AuthError,\r\n             payload: 'Unsuccessful Login'\r\n      }\r\n}\r\n\r\n}"]},"metadata":{},"sourceType":"module"}