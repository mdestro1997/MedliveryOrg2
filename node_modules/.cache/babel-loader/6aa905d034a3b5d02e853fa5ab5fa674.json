{"ast":null,"code":"import _classCallCheck from\"/Users/mathubabocra.org.bw/Downloads/MedliveryMasterUpdated-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mathubabocra.org.bw/Downloads/MedliveryMasterUpdated-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/mathubabocra.org.bw/Downloads/MedliveryMasterUpdated-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mathubabocra.org.bw/Downloads/MedliveryMasterUpdated-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Field,reduxForm}from'redux-form';import{connect}from'react-redux';import{Form,Col,Button,Container,Alert}from'react-bootstrap';import AdminUpdateRoles from'./adminUpdateRoles';import validator from'validator';import{searchAndUpdateActionCreator}from'../actions/searchAndUpdateActionCreator';//const validator = require('validator');\nvar SearchAndUpdate=/*#__PURE__*/function(_Component){_inherits(SearchAndUpdate,_Component);var _super=_createSuper(SearchAndUpdate);function SearchAndUpdate(){var _this;_classCallCheck(this,SearchAndUpdate);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.renderHelper=function(_ref){var input=_ref.input,type=_ref.type,label=_ref.label,controlId=_ref.controlId,placeholder=_ref.placeholder,required=_ref.required,accept=_ref.accept,meta=_ref.meta,error=_ref.error;console.log('meta ',meta);return/*#__PURE__*/React.createElement(\"div\",{className:\" container col-md-4\"},/*#__PURE__*/React.createElement(Form.Group,{controlId:controlId},/*#__PURE__*/React.createElement(Form.Label,null,label),/*#__PURE__*/React.createElement(Form.Control,Object.assign({required:true},input,{type:type,placeholder:placeholder})),_this.renderError(meta)));};return _this;}_createClass(SearchAndUpdate,[{key:\"onSubmit\",value:function onSubmit(values){values.token=localStorage.getItem('token');console.log('values ',values);this.props.searchAndUpdateActionCreator(values);}},{key:\"renderError\",value:function renderError(_ref2){var error=_ref2.error,touched=_ref2.touched;if(error&&touched){return/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(Alert,{variant:\"danger\"},error));}}},{key:\"renderSearch\",value:function renderSearch(){console.log('renderSearch',this.props.foundSearch);if(this.props.foundSearch){return/*#__PURE__*/React.createElement(AdminUpdateRoles,null);}else{// return (\n//     <div className=\"\" >\n//         <Alert variant=\"danger\">User with that <strong>email</strong> does not exist</Alert>\n//     </div>\n// )\n}}},{key:\"render\",value:function render(){var handleSubmit=this.props.handleSubmit;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container mt-5  col-md-8\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"container text-center text-dark display-4 mb-5\"},\"Search & Update \"),/*#__PURE__*/React.createElement(Form,{className:\" \",onSubmit:handleSubmit(this.onSubmit.bind(this))},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"}),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Field,{name:\"email\",type:\"email\",label:\"Email/Phone Number\",controlId:\"formGridEmail\",placeholder:\"Email or Phone Number\",component:this.renderHelper})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Alert,null,this.props.errorMessage)),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Button,{className:\"container col-md-4\",type:\"submit\",variant:\"success\"},\" Search \")),/*#__PURE__*/React.createElement(\"br\",null)),this.renderSearch())))));}}]);return SearchAndUpdate;}(Component);function mapStateToProps(state){return{errorMessage:state.authReducer.errorMessage,foundSearch:state.foundSearchToUpdate.foundSearch};}var validate=function validate(values){var error={};// const validEmail = validator.isEmail(values.email);\n//console.log('hkahlajhdhfiufa valid',validEmail)\nif(!values.email){error.email=\"Field is Required\";}else if(values.email){var validEmail=validator.isEmail(values.email);if(!validEmail){error.email=\"Invalid Email\";}}if(!values.password){error.password=\"Please Enter password\";}return error;};export default reduxForm({form:'SearchAndUpdateForm',validate:validate})(connect(mapStateToProps,{searchAndUpdateActionCreator:searchAndUpdateActionCreator})(SearchAndUpdate));","map":{"version":3,"sources":["/Users/mathubabocra.org.bw/Downloads/MedliveryMasterUpdated-main/src/Components/searchAndUpdateExistingUser.js"],"names":["React","Component","Field","reduxForm","connect","Form","Col","Button","Container","Alert","AdminUpdateRoles","validator","searchAndUpdateActionCreator","SearchAndUpdate","renderHelper","input","type","label","controlId","placeholder","required","accept","meta","error","console","log","renderError","values","token","localStorage","getItem","props","touched","foundSearch","handleSubmit","onSubmit","bind","errorMessage","renderSearch","mapStateToProps","state","authReducer","foundSearchToUpdate","validate","email","validEmail","isEmail","password","form"],"mappings":"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","sourcesContent":["\r\nimport React,{Component} from 'react'\r\n\r\nimport {Field,reduxForm} from 'redux-form'\r\nimport {connect} from 'react-redux'\r\nimport {Form,Col,Button,Container,Alert} from 'react-bootstrap'\r\nimport AdminUpdateRoles from './adminUpdateRoles'\r\n\r\n import validator from 'validator'\r\n\r\nimport {searchAndUpdateActionCreator} from '../actions/searchAndUpdateActionCreator'\r\n//const validator = require('validator');\r\n\r\nclass SearchAndUpdate extends Component{\r\n\r\n\r\n\r\n\r\n\r\n\r\n    onSubmit(values){\r\n        values.token = localStorage.getItem('token');\r\n        console.log('values ', values)\r\n\r\n      this.props.searchAndUpdateActionCreator(values)\r\n\r\n    }  \r\n\r\nrenderError({error,touched}){\r\n\r\n    if(error && touched){\r\n        return (\r\n            <div className=\"\" >\r\n                <Alert variant=\"danger\">{error}</Alert>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nrenderSearch(){\r\n    console.log('renderSearch',this.props.foundSearch )\r\n    if(this.props.foundSearch){\r\n        return(\r\n            <AdminUpdateRoles />\r\n        )\r\n    }else{\r\n        // return (\r\n        //     <div className=\"\" >\r\n        //         <Alert variant=\"danger\">User with that <strong>email</strong> does not exist</Alert>\r\n        //     </div>\r\n        // )\r\n    }\r\n}\r\n\r\n    renderHelper = ({input,type,label,controlId,placeholder,required,accept,meta,error}) => {\r\n   \r\n        console.log('meta ',meta)\r\n         \r\n\r\n        return(\r\n    \r\n       \r\n    \r\n    <div className=' container col-md-4'>\r\n            <Form.Group  controlId={controlId}>\r\n            <Form.Label>{label}</Form.Label>\r\n            <Form.Control \r\n           required\r\n           {...input}\r\n            type={type}\r\n             placeholder={placeholder}  />\r\n             {this.renderError(meta)}\r\n          </Form.Group>\r\n          \r\n          \r\n   \r\n          </div>\r\n   \r\n\r\n    \r\n  \r\n    \r\n\r\n  \r\n            \r\n        )\r\n    \r\n    }\r\n    \r\n\r\n\r\n    render(){\r\n\r\n        const {handleSubmit} = this.props;\r\n\r\n        return(\r\n\r\n            <div>\r\n\r\n            <div className=''>\r\n                <div className=''>\r\n                    <div className=''>\r\n         \r\n                \r\n                {/* <br />\r\n                <br /> */}\r\n            <div className='container mt-5  col-md-8'>\r\n  \r\n{/* handleSubmit(this.onFormSubmit.bind(this)) */}\r\n             {/* <form  > */}\r\n             <h3 className=\"container text-center text-dark display-4 mb-5\">Search &amp; Update </h3>\r\n\r\n\r\n\r\n\r\n      <Form className=' ' onSubmit={handleSubmit(this.onSubmit.bind(this))}>\r\n\r\n     <div className='row'>\r\n\r\n             </div>  \r\n              \r\n              <Form.Row>\r\n              <Field\r\n                 name=\"email\"\r\n                 type=\"email\"\r\n                 label=\"Email/Phone Number\"\r\n                 controlId=\"formGridEmail\"\r\n                 placeholder=\"Email or Phone Number\"\r\n                 component={this.renderHelper}\r\n                 />\r\n\r\n                </Form.Row>\r\n\r\n               \r\n\r\n                <div><Alert >{this.props.errorMessage}</Alert></div>\r\n\r\n<Form.Row>\r\n<Button className='container col-md-4' type =\"submit\" variant=\"success\"> Search </Button> \r\n</Form.Row>\r\n<br />  \r\n</Form>\r\n{this.renderSearch()}\r\n{/* <AdminUpdateRoles /> */}\r\n            </div>\r\n            </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n  \r\nfunction mapStateToProps(state){\r\n    return{\r\n            errorMessage:state.authReducer.errorMessage,\r\n            foundSearch:state.foundSearchToUpdate.foundSearch\r\n    }\r\n}\r\n\r\n\r\nconst validate = (values) =>{\r\n\r\n    const error = {};\r\n\r\n// const validEmail = validator.isEmail(values.email);\r\n//console.log('hkahlajhdhfiufa valid',validEmail)\r\n\r\n    if(!values.email ){\r\n       error.email = \"Field is Required\"\r\n    }else if (values.email){\r\n    const validEmail = validator.isEmail(values.email);\r\n\r\n         if(!validEmail){\r\n             error.email =\"Invalid Email\"\r\n         }\r\n}   \r\n    \r\n   \r\n    if(!values.password){\r\n        error.password=\"Please Enter password\"\r\n    }\r\n\r\n    return error;\r\n\r\n}\r\n\r\nexport default reduxForm({\r\n\r\n    form:'SearchAndUpdateForm',\r\n    validate\r\n})(connect(mapStateToProps,{searchAndUpdateActionCreator})(SearchAndUpdate))"]},"metadata":{},"sourceType":"module"}