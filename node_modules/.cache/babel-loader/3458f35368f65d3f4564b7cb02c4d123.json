{"ast":null,"code":"import _defineProperty from\"/Users/mathubabocra.org.bw/Downloads/MedliveryMasterUpdated-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/mathubabocra.org.bw/Downloads/MedliveryMasterUpdated-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mathubabocra.org.bw/Downloads/MedliveryMasterUpdated-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/mathubabocra.org.bw/Downloads/MedliveryMasterUpdated-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/mathubabocra.org.bw/Downloads/MedliveryMasterUpdated-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mathubabocra.org.bw/Downloads/MedliveryMasterUpdated-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{Link}from'react-router-dom';import{Field,reduxForm}from'redux-form';import{getApplicationsActionCreator}from'../actions/getApplicationsActionCreator';import requireAuth from'./authHOC';import Modal from'./Modal';import PaginationMethod from'./pagination';import FilterBy from'./filterBy';import{Button,Table,Container,Form,FormControl}from'react-bootstrap';import _ from'lodash';var values={};var keeper='';var GetAllUserApplications=/*#__PURE__*/function(_Component){_inherits(GetAllUserApplications,_Component);var _super=_createSuper(GetAllUserApplications);function GetAllUserApplications(props){var _this;_classCallCheck(this,GetAllUserApplications);_this=_super.call(this,props);// This binding is necessary to make `this` work in the callback\n_this.sortFilterContainer={};_this.onClickPaginationHandler=function(e,e2){console.log('My Pagination',e);var token=localStorage.getItem('token');_this.sortFilterContainer.token=token;_this.sortFilterContainer.paginationTitle=e;_this.sortFilterContainer.paginationValue=e2;_this.props.getApplicationsActionCreator(_this.sortFilterContainer);};_this.onClickHandlerSort=function(e,e2){// if(sortFilterContainer.isfiltered){\n// } else {\nconsole.log('from Parent!! ',e,e2);var token=localStorage.getItem('token');_this.sortFilterContainer.sortTitle=e;_this.sortFilterContainer.sortValue=e2;_this.sortFilterContainer.token=token;console.log('WHats that',_this.sortFilterContainer);// }\n_this.props.getApplicationsActionCreator(_this.sortFilterContainer);};_this.onClickHandlerSortByName=function(e,e2){console.log('from Parent!! ',e,e2);var token=localStorage.getItem('token');_this.sortFilterContainer.sortByNameTitle=e;_this.sortFilterContainer.sortByNameValue=e2;_this.sortFilterContainer.token=token;console.log('WHats that',_this.sortFilterContainer);_this.props.getApplicationsActionCreator(_this.sortFilterContainer);};_this.onClickHandlerFilterBy=function(e,e2){console.log('from Parent!! ',e,e2);var token=localStorage.getItem('token');_this.sortFilterContainer.filterByTitle=e;_this.sortFilterContainer.filterByValue=e2;_this.sortFilterContainer.token=token;console.log('WHats that',_this.sortFilterContainer);_this.props.getApplicationsActionCreator(_this.sortFilterContainer);};_this.statusOfApplication=function(status){console.log('status',status);if(status==='Pending'){return'warning';}else if(status==='Approved'){return'success';}else{return'info';}};_this.howCome=function(e){var token=localStorage.getItem('token');var alphabets=['a','b','c','d','e','d','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z'];if(e==='Backspace'){console.log('Backspace');var count=keeper.length-1;console.log('count',count);keeper=keeper.slice(0,count);if(count>=3){console.log(\"You pressed , \"+keeper);_this.sortFilterContainer.searchValue=keeper;_this.sortFilterContainer.token=token;_this.props.getApplicationsActionCreator(_this.sortFilterContainer);}}else if(e.length===1){keeper=keeper.concat(e);console.log('length ',keeper.length);console.log(\"You pressed a key inside the input field, \"+keeper);if(keeper.length>=3){_this.sortFilterContainer.searchValue=keeper;_this.sortFilterContainer.token=token;_this.props.getApplicationsActionCreator(_this.sortFilterContainer);}}};_this.renderHelper=function(_ref){var input=_ref.input,type=_ref.type,label=_ref.label,controlId=_ref.controlId,placeholder=_ref.placeholder,required=_ref.required,accept=_ref.accept,meta=_ref.meta,error=_ref.error,onKeyDown=_ref.onKeyDown;console.log('meta ',meta);return/*#__PURE__*/React.createElement(\"div\",{className:\"searchBar mr-sm-2\"},/*#__PURE__*/React.createElement(Form.Group,{className:\"searchBarGroup\",controlId:controlId},/*#__PURE__*/React.createElement(Form.Control,Object.assign({style:{width:'inherit'}},input,{type:type,placeholder:placeholder,onKeyDown:function onKeyDown(e){_this.howCome(e.key);}}))));};_this.renderModal=_this.renderModal.bind(_assertThisInitialized(_this));return _this;}_createClass(GetAllUserApplications,[{key:\"componentDidMount\",value:function componentDidMount(){console.log('authGETALLAPPLI ',this.props.authenticated);// formValues.token = localStorage.getItem('token');\n// const token = this.props.authenticated;\nvar token=localStorage.getItem('token');values.token=token;this.props.getApplicationsActionCreator(values);}},{key:\"renderModal\",value:function renderModal(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Modal,null));}},{key:\"onSubmit\",value:function onSubmit(e){console.log('Search Value!! ',e.Search);var token=localStorage.getItem('token');this.sortFilterContainer.searchValue=e.Search;this.sortFilterContainer.token=token;console.log('WHats that',this.sortFilterContainer);this.props.getApplicationsActionCreator(this.sortFilterContainer);}},{key:\"render\",value:function render(){var _this2=this;var handleSubmit=this.props.handleSubmit;return/*#__PURE__*/React.createElement(Container,{className:\" mt-5\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",{className:\"text-center text-secondary\"},\"Submitted Medical Applications\"),/*#__PURE__*/React.createElement(\"div\",_defineProperty({className:\"search btn-group\"},\"className\",\"parentContainer\"),/*#__PURE__*/React.createElement(Form,{inline:true,style:{width:'50%'},onSubmit:handleSubmit(this.onSubmit.bind(this))},/*#__PURE__*/React.createElement(Field,{name:\"Search\",type:\"text\",placeholder:\"Search\",component:this.renderHelper,onKeyDown:\"onKeyDown\"}),/*#__PURE__*/React.createElement(Button,{type:\"submit\"},\"Search\")),/*#__PURE__*/React.createElement(\"div\",{className:\"filterData\",style:{width:'50%'}},/*#__PURE__*/React.createElement(FilterBy,{title:\"FilterBy\",itemOne:\"Pending\",itemTwo:\"Approved\",itemThree:\"InProgress\",passingOnClickHandlerToChild:this.onClickHandlerFilterBy,variant:\"secondary\"}),/*#__PURE__*/React.createElement(FilterBy,{title:\"SortBy\",itemOne:\"Oldest to Newest\",itemTwo:\"Newest to Oldest\",passingOnClickHandlerToChild:this.onClickHandlerSort,variant:\"success\"}),/*#__PURE__*/React.createElement(FilterBy,{title:\"SortByName\",itemOne:\"Raphael Mathuba\",itemTwo:\"Pitso\",passingOnClickHandlerToChild:this.onClickHandlerSortByName,variant:\"primary\"}))),/*#__PURE__*/React.createElement(Table,{striped:true,bordered:true,hover:true},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Patient Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Place Of Application\"),/*#__PURE__*/React.createElement(\"th\",null,\"Submitted At\"),/*#__PURE__*/React.createElement(\"th\",null,\"Assigned To\"),/*#__PURE__*/React.createElement(\"th\",null,\"Status\"),/*#__PURE__*/React.createElement(\"th\",null,\"View\"),/*#__PURE__*/React.createElement(\"th\",null,\"Edit\"),/*#__PURE__*/React.createElement(\"th\",null,\"Remove\"))),/*#__PURE__*/React.createElement(\"tbody\",null,_.map(this.props.gotApplicationSuccessfully,function(application){return/*#__PURE__*/React.createElement(\"tr\",{key:application._id},/*#__PURE__*/React.createElement(\"td\",null,application.owner.firstname.concat(' ',application.owner.lastname)),/*#__PURE__*/React.createElement(\"td\",null,application.nearestMedicalFacility),/*#__PURE__*/React.createElement(\"td\",null,application.createdAt),/*#__PURE__*/React.createElement(\"td\",null,\"Dr Mathuba\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Button,{variant:_this2.statusOfApplication(application.assignedMedicalPractitioner)},application.assignedMedicalPractitioner)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Button,{as:Link,to:\"/viewUserApplication/\".concat(application._id),variant:\"primary\"},\"View\")),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Button,{as:Link,to:\"/editUserApplication/\".concat(application._id),variant:\"info\"},\"Edit\")),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Button,{type:\"button\",as:Link,to:\"/deleteUserApplication/\".concat(application._id),variant:\"danger\"},\"Delete\")));}))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(PaginationMethod,{title:\"Pagination\",passingOnClickHandlerToChild:this.onClickPaginationHandler}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null)));}}]);return GetAllUserApplications;}(Component);function mapStateToProps(state){return{authenticated:state.authReducer.authenticated,gotApplicationSuccessfully:state.getUserApplications.gotApplicationSuccessfully};}export default reduxForm({form:'SearchForm'})(connect(mapStateToProps,{getApplicationsActionCreator:getApplicationsActionCreator})(requireAuth(GetAllUserApplications)));","map":{"version":3,"sources":["/Users/mathubabocra.org.bw/Downloads/MedliveryMasterUpdated-main/src/Components/getAllUserApplication.js"],"names":["React","Component","connect","Link","Field","reduxForm","getApplicationsActionCreator","requireAuth","Modal","PaginationMethod","FilterBy","Button","Table","Container","Form","FormControl","_","values","keeper","GetAllUserApplications","props","sortFilterContainer","onClickPaginationHandler","e","e2","console","log","token","localStorage","getItem","paginationTitle","paginationValue","onClickHandlerSort","sortTitle","sortValue","onClickHandlerSortByName","sortByNameTitle","sortByNameValue","onClickHandlerFilterBy","filterByTitle","filterByValue","statusOfApplication","status","howCome","alphabets","count","length","slice","searchValue","concat","renderHelper","input","type","label","controlId","placeholder","required","accept","meta","error","onKeyDown","width","key","renderModal","bind","authenticated","Search","handleSubmit","onSubmit","map","gotApplicationSuccessfully","application","_id","owner","firstname","lastname","nearestMedicalFacility","createdAt","assignedMedicalPractitioner","mapStateToProps","state","authReducer","getUserApplications","form"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { getApplicationsActionCreator } from '../actions/getApplicationsActionCreator';\r\nimport requireAuth from './authHOC';\r\nimport Modal from './Modal';\r\nimport PaginationMethod from './pagination';\r\nimport FilterBy from './filterBy';\r\n\r\nimport { Button, Table, Container, Form, FormControl } from 'react-bootstrap';\r\nimport _ from 'lodash';\r\n\r\nconst values = {};\r\nvar keeper=''\r\n\r\n\r\nclass GetAllUserApplications extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // This binding is necessary to make `this` work in the callback\r\n    this.renderModal = this.renderModal.bind(this);\r\n  }\r\n\r\n  sortFilterContainer = {};\r\n\r\n  componentDidMount() {\r\n    console.log('authGETALLAPPLI ', this.props.authenticated);\r\n    // formValues.token = localStorage.getItem('token');\r\n\r\n    // const token = this.props.authenticated;\r\n    const token = localStorage.getItem('token');\r\n    values.token = token;\r\n    this.props.getApplicationsActionCreator(values);\r\n  }\r\n\r\n  renderModal() {\r\n    return (\r\n      <div>\r\n        <Modal />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onClickPaginationHandler = (e, e2) => {\r\n    console.log('My Pagination', e);\r\n    const token = localStorage.getItem('token');\r\n    this.sortFilterContainer.token = token;\r\n    this.sortFilterContainer.paginationTitle = e;\r\n    this.sortFilterContainer.paginationValue = e2;\r\n    this.props.getApplicationsActionCreator(this.sortFilterContainer);\r\n  };\r\n\r\n  onClickHandlerSort = (e, e2) => {\r\n    // if(sortFilterContainer.isfiltered){\r\n\r\n    // } else {\r\n    console.log('from Parent!! ', e, e2);\r\n    const token = localStorage.getItem('token');\r\n    this.sortFilterContainer.sortTitle = e;\r\n    this.sortFilterContainer.sortValue = e2;\r\n    this.sortFilterContainer.token = token;\r\n\r\n    console.log('WHats that', this.sortFilterContainer);\r\n\r\n    // }\r\n    this.props.getApplicationsActionCreator(this.sortFilterContainer);\r\n  };\r\n\r\n  onClickHandlerSortByName = (e, e2) => {\r\n    console.log('from Parent!! ', e, e2);\r\n    const token = localStorage.getItem('token');\r\n    this.sortFilterContainer.sortByNameTitle = e;\r\n    this.sortFilterContainer.sortByNameValue = e2;\r\n    this.sortFilterContainer.token = token;\r\n\r\n    console.log('WHats that', this.sortFilterContainer);\r\n\r\n    this.props.getApplicationsActionCreator(this.sortFilterContainer);\r\n  };\r\n\r\n  onClickHandlerFilterBy = (e, e2) => {\r\n    console.log('from Parent!! ', e, e2);\r\n    const token = localStorage.getItem('token');\r\n    this.sortFilterContainer.filterByTitle = e;\r\n    this.sortFilterContainer.filterByValue = e2;\r\n    this.sortFilterContainer.token = token;\r\n\r\n    console.log('WHats that', this.sortFilterContainer);\r\n\r\n    this.props.getApplicationsActionCreator(this.sortFilterContainer);\r\n  };\r\n\r\n  onSubmit(e) {\r\n    console.log('Search Value!! ', e.Search);\r\n    const token = localStorage.getItem('token');\r\n    this.sortFilterContainer.searchValue = e.Search;\r\n    this.sortFilterContainer.token = token;\r\n\r\n    console.log('WHats that', this.sortFilterContainer);\r\n\r\n    this.props.getApplicationsActionCreator(this.sortFilterContainer);\r\n  }\r\n\r\n  statusOfApplication = (status) => {\r\n    console.log('status', status);\r\n\r\n    if (status === 'Pending') {\r\n      return 'warning';\r\n    } else if (status === 'Approved') {\r\n      return 'success';\r\n    } else {\r\n      return 'info';\r\n    }\r\n  };\r\n\r\n   howCome=(e)=>{\r\n    const token = localStorage.getItem('token');\r\n    var alphabets =['a','b','c','d','e','d','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z']\r\n      if(e === 'Backspace'){\r\n     \r\n        console.log('Backspace')\r\n        var count= keeper.length - 1\r\n \r\n        console.log('count',count)\r\n \r\n        keeper = keeper.slice(0,count)\r\n        if(count >= 3){\r\n        console.log(\"You pressed , \" + keeper);\r\n        this.sortFilterContainer.searchValue = keeper;\r\n        this.sortFilterContainer.token = token;\r\n        this.props.getApplicationsActionCreator(this.sortFilterContainer);\r\n        }\r\n\r\n     }else if(e.length === 1 ){\r\n      keeper= keeper.concat(e)\r\n      console.log('length ',keeper.length)\r\n      console.log(\"You pressed a key inside the input field, \" + keeper);\r\n      if(keeper.length >= 3){\r\n        this.sortFilterContainer.searchValue = keeper;\r\n        this.sortFilterContainer.token = token;\r\n        this.props.getApplicationsActionCreator(this.sortFilterContainer);\r\n      }\r\n     }\r\n     \r\n    \r\n\r\n     }\r\n    \r\n  \r\n\r\n    \r\n    //  if(keeper.length >= 3 ){\r\n\r\n    //  }\r\n  \r\n  renderHelper = ({\r\n    input,\r\n    type,\r\n    label,\r\n    controlId,\r\n    placeholder,\r\n    required,\r\n    accept,\r\n    meta,\r\n    error,\r\n    onKeyDown,\r\n  }) => {\r\n    console.log('meta ', meta);\r\n\r\n    return (\r\n      <div className='searchBar mr-sm-2'>\r\n        <Form.Group className='searchBarGroup' controlId={controlId}>\r\n          <Form.Control\r\n            style={{ width: 'inherit' }}\r\n            {...input}\r\n            type={type}\r\n            placeholder={placeholder}\r\n            onKeyDown={(e) =>{ this.howCome(e.key)}}\r\n          />\r\n          {/* {this.renderError(meta)} */}\r\n        </Form.Group>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { handleSubmit } = this.props;\r\n\r\n    return (\r\n      <Container className=' mt-5'>\r\n        <div>\r\n          <h3 className='text-center text-secondary'>\r\n            Submitted Medical Applications\r\n          </h3>\r\n          <div className='search btn-group' className='parentContainer'>\r\n            <Form\r\n              inline\r\n              style={{ width: '50%' }}\r\n              onSubmit={handleSubmit(this.onSubmit.bind(this))}\r\n            >\r\n              <Field\r\n                name='Search'\r\n                type='text'\r\n                placeholder='Search'\r\n                component={this.renderHelper}\r\n                onKeyDown='onKeyDown'\r\n              />\r\n              <Button type='submit'>Search</Button>\r\n            </Form>\r\n            <div className='filterData' style={{ width: '50%' }}>\r\n              {\r\n                <FilterBy\r\n                  title='FilterBy'\r\n                  itemOne='Pending'\r\n                  itemTwo='Approved'\r\n                  itemThree='InProgress'\r\n                  passingOnClickHandlerToChild={this.onClickHandlerFilterBy}\r\n                  variant='secondary'\r\n                />\r\n              }\r\n              {\r\n                <FilterBy\r\n                  title='SortBy'\r\n                  itemOne='Oldest to Newest'\r\n                  itemTwo='Newest to Oldest'\r\n                  passingOnClickHandlerToChild={this.onClickHandlerSort}\r\n                  variant='success'\r\n                />\r\n              }\r\n              {\r\n                <FilterBy\r\n                  title='SortByName'\r\n                  itemOne='Raphael Mathuba'\r\n                  itemTwo='Pitso'\r\n                  passingOnClickHandlerToChild={this.onClickHandlerSortByName}\r\n                  variant='primary'\r\n                />\r\n              }\r\n            </div>\r\n          </div>\r\n          {/* <br />\r\n          <br /> */}\r\n\r\n          <Table striped bordered hover>\r\n            <thead>\r\n              <tr>\r\n                <th>Patient Name</th>\r\n                <th>Place Of Application</th>\r\n                <th>Submitted At</th>\r\n                <th>Assigned To</th>\r\n                <th>Status</th>\r\n                <th>View</th>\r\n                <th>Edit</th>\r\n                <th>Remove</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              {_.map(this.props.gotApplicationSuccessfully, (application) => {\r\n                return (\r\n                  <tr key={application._id}>\r\n                    <td>\r\n                      {application.owner.firstname.concat(\r\n                        ' ',\r\n                        application.owner.lastname\r\n                      )}\r\n                    </td>\r\n                    <td>{application.nearestMedicalFacility}</td>\r\n                    <td>{application.createdAt}</td>\r\n                    <td>Dr Mathuba</td>\r\n                    <td>\r\n                      <Button\r\n                        variant={this.statusOfApplication(\r\n                          application.assignedMedicalPractitioner\r\n                        )}\r\n                      >\r\n                        {application.assignedMedicalPractitioner}\r\n                      </Button>\r\n                    </td>\r\n                    <td>\r\n                      <Button\r\n                        as={Link}\r\n                        to={`/viewUserApplication/${application._id}`}\r\n                        variant='primary'\r\n                      >\r\n                        View\r\n                      </Button>\r\n                    </td>\r\n                    <td>\r\n                      <Button\r\n                        as={Link}\r\n                        to={`/editUserApplication/${application._id}`}\r\n                        variant='info'\r\n                      >\r\n                        Edit\r\n                      </Button>\r\n                    </td>\r\n                    <td>\r\n                      <Button\r\n                        type='button'\r\n                        as={Link}\r\n                        to={`/deleteUserApplication/${application._id}`}\r\n                        variant='danger'\r\n                      >\r\n                        Delete\r\n                      </Button>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </Table>\r\n          <br />\r\n\r\n          {\r\n            <PaginationMethod\r\n              title='Pagination'\r\n              passingOnClickHandlerToChild={this.onClickPaginationHandler}\r\n            />\r\n          }\r\n          <br />\r\n          <br />\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    authenticated: state.authReducer.authenticated,\r\n    gotApplicationSuccessfully:\r\n      state.getUserApplications.gotApplicationSuccessfully,\r\n  };\r\n}\r\n\r\nexport default reduxForm({\r\n  form: 'SearchForm',\r\n})(\r\n  connect(mapStateToProps, { getApplicationsActionCreator })(\r\n    requireAuth(GetAllUserApplications)\r\n  )\r\n);\r\n"]},"metadata":{},"sourceType":"module"}